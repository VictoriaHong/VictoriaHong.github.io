
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Victoria&#39;s Blog">
    <title>Algorithms 笔记 - Victoria&#39;s Blog</title>
    <meta name="author" content="Victoria Hong">
    
    
        <link rel="icon" href="http://victoriahong.com/assets/images/favicon.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="Overview
Java basics
Complexity
Elementary sorts
Shuffle
Merge sort
Quick sort
Priority queue
Heap sort
Symbol tables
Binary tree
Binary search tree
Balanced search tree
Hash Table

Sort:



#
inplace">
<meta property="og:type" content="blog">
<meta property="og:title" content="Algorithms 笔记">
<meta property="og:url" content="http://victoriahong.com/2016/08/AlgorithmsNotes/index.html">
<meta property="og:site_name" content="Victoria's Blog">
<meta property="og:description" content="Overview
Java basics
Complexity
Elementary sorts
Shuffle
Merge sort
Quick sort
Priority queue
Heap sort
Symbol tables
Binary tree
Binary search tree
Balanced search tree
Hash Table

Sort:



#
inplace">
<meta property="og:updated_time" content="2016-08-18T07:03:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Algorithms 笔记">
<meta name="twitter:description" content="Overview
Java basics
Complexity
Elementary sorts
Shuffle
Merge sort
Quick sort
Priority queue
Heap sort
Symbol tables
Binary tree
Binary search tree
Balanced search tree
Hash Table

Sort:



#
inplace">
    
    
        
    
    
        <meta property="og:image" content="http://www.gravatar.com/avatar/62d0fa666fec0472476147ad2e6030cb?s=640"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-quwccsthbllipo6252snb2tfkddvrsp1eczkytpz3vmxpsb6nwodixemlkux.min.css" type="text/css">
    <!--STYLES END-->
    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-76801514-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
    

<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Victoria&#39;s Blog</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="/#about">
        
        
            <img class="header-picture" src="http://www.gravatar.com/avatar/62d0fa666fec0472476147ad2e6030cb?s=90"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="http://www.gravatar.com/avatar/62d0fa666fec0472476147ad2e6030cb?s=110"/>
            </a>
            <span class="sidebar-profile-name">Victoria Hong</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="/#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">Resume</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/VictoriaHong" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.facebook.com/XinVictoriaHong" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-facebook"></i>
                    <span class="sidebar-button-desc">Facebook</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.linkedin.com/in/xinvictoriahong" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
                    <span class="sidebar-button-desc">LinkedIn</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="3"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Algorithms 笔记
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Mon Aug 08 2016 16:39:00 GMT-0700">
	
		    Aug 08, 2016
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Tech-Notes/">Tech Notes</a>


    
</div>
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><ul>
<li>Java basics</li>
<li>Complexity</li>
<li>Elementary sorts</li>
<li>Shuffle</li>
<li>Merge sort</li>
<li>Quick sort</li>
<li>Priority queue</li>
<li>Heap sort</li>
<li>Symbol tables</li>
<li>Binary tree</li>
<li>Binary search tree</li>
<li>Balanced search tree</li>
<li>Hash Table</li>
</ul>
<p>Sort:</p>
<table>
<thead>
<tr>
<th style="text-align:center">#</th>
<th style="text-align:center">inplace?</th>
<th style="text-align:center">stable?</th>
<th style="text-align:center">worst</th>
<th style="text-align:center">avr</th>
<th style="text-align:center">best</th>
<th style="text-align:center">extra space</th>
<th style="text-align:center">remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">selection</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">n^2/2</td>
<td style="text-align:center">n^2/2</td>
<td style="text-align:center">n^2/2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">insertion</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">n^2/2</td>
<td style="text-align:center">n^2/4</td>
<td style="text-align:center">N</td>
<td style="text-align:center">1</td>
<td style="text-align:center">depends on order of items</td>
</tr>
<tr>
<td style="text-align:center">shell</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">?</td>
<td style="text-align:center">?</td>
<td style="text-align:center">N</td>
<td style="text-align:center">1</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">merge</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">NlogN</td>
<td style="text-align:center">NlogN</td>
<td style="text-align:center">NlogN</td>
<td style="text-align:center">N</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">quick</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">n^2/2</td>
<td style="text-align:center">1.39NlogN</td>
<td style="text-align:center">NlogN</td>
<td style="text-align:center">lgN</td>
<td style="text-align:center">probabilistic guarantee</td>
</tr>
<tr>
<td style="text-align:center">3-way quick</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">n^2/2</td>
<td style="text-align:center">1.39NlogN</td>
<td style="text-align:center">N</td>
<td style="text-align:center">lgN</td>
<td style="text-align:center">probabilistic guarantee also depends on order of items</td>
</tr>
<tr>
<td style="text-align:center">heap</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">2NlogN</td>
<td style="text-align:center">2NlogN</td>
<td style="text-align:center">NlogN</td>
<td style="text-align:center">1</td>
<td style="text-align:center">–</td>
</tr>
</tbody>
</table>
<p>Search:</p>
<table>
<thead>
<tr>
<th style="text-align:center">underlying data structure</th>
<th style="text-align:center">implementation</th>
<th style="text-align:center">pros</th>
<th style="text-align:center">cons</th>
<th style="text-align:center">guarantee search</th>
<th style="text-align:center">guarantee insert</th>
<th style="text-align:center">avr search hit</th>
<th style="text-align:center">avr insert</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">linked list(sequential search)</td>
<td style="text-align:center">SequentialSearchST</td>
<td style="text-align:center">best for tiny STs</td>
<td style="text-align:center">slow for large STs</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N/2</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:center">ordered array(binary search)</td>
<td style="text-align:center">BinarySearchST</td>
<td style="text-align:center">optimal search and space, order-based ops</td>
<td style="text-align:center">slow insert</td>
<td style="text-align:center">lgN</td>
<td style="text-align:center">N</td>
<td style="text-align:center">lgN</td>
<td style="text-align:center">N/2</td>
</tr>
<tr>
<td style="text-align:center">binary search tree</td>
<td style="text-align:center">BST</td>
<td style="text-align:center">easy to implement, order-based ops</td>
<td style="text-align:center">no guarantee space for links</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
<td style="text-align:center">1.39lgN</td>
<td style="text-align:center">1.39lgN</td>
</tr>
<tr>
<td style="text-align:center">balanced BST</td>
<td style="text-align:center">RedBlackBST</td>
<td style="text-align:center">optimal search and insert, order-based ops</td>
<td style="text-align:center">space for links</td>
<td style="text-align:center">2lgN</td>
<td style="text-align:center">2lgN</td>
<td style="text-align:center">lgN</td>
<td style="text-align:center">lgN</td>
</tr>
<tr>
<td style="text-align:center">hash table</td>
<td style="text-align:center">SeparateChainingHashST, linearProbingHashST</td>
<td style="text-align:center">fast search/insert for common types of data</td>
<td style="text-align:center">need hash for each type, no order-based ops, space for links/empty</td>
</tr>
<tr>
<td style="text-align:center">SeparateChainingHashST</td>
<td style="text-align:center">array of lists</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">&lt;lgN</td>
<td style="text-align:center">&lt;lgN</td>
<td style="text-align:center">N/(2M)</td>
<td style="text-align:center">N/M</td>
</tr>
<tr>
<td style="text-align:center">linearProbingHashST</td>
<td style="text-align:center">parallel arrays</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">clgN</td>
<td style="text-align:center">clgN</td>
<td style="text-align:center">&lt;1.5</td>
<td style="text-align:center">&lt;2.5</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h2 id="Java-basics"><a href="#Java-basics" class="headerlink" title="Java basics"></a>Java basics</h2><h3 id="描述代码的名词"><a href="#描述代码的名词" class="headerlink" title="描述代码的名词"></a>描述代码的名词</h3><table>
<thead>
<tr>
<th style="text-align:center">内容</th>
<th style="text-align:center">名称</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>import java.util.Arrays;</code></td>
<td style="text-align:center">import a java library</td>
</tr>
<tr>
<td style="text-align:center"><code>class Foo</code></td>
<td style="text-align:center">code must in the file Foo.java</td>
</tr>
<tr>
<td style="text-align:center"><code>public static int rank(int key)</code></td>
<td style="text-align:center">static method; return type; parameter variables</td>
</tr>
<tr>
<td style="text-align:center"><code>while(i &lt; 10){i++;}</code></td>
<td style="text-align:center">initializing declaration; loop statement; expression; return statement</td>
</tr>
<tr>
<td style="text-align:center"><code>public static void main(String[] args)</code></td>
<td style="text-align:center">system call</td>
</tr>
<tr>
<td style="text-align:center"><code>if (a &gt; 10) { rank(a);}</code></td>
<td style="text-align:center">condition statement; local method</td>
</tr>
<tr>
<td style="text-align:center">integer, float, double, char, boolean</td>
<td style="text-align:center">primitive data type</td>
</tr>
<tr>
<td style="text-align:center">a, a_b, ab$</td>
<td style="text-align:center">identifier, the first of which is not a digit</td>
</tr>
<tr>
<td style="text-align:center">+, -, *, /, %</td>
<td style="text-align:center">operator; remainder</td>
</tr>
<tr>
<td style="text-align:center">3 + 5 * 2</td>
<td style="text-align:center">* has higher precedence than +; parentheses</td>
</tr>
<tr>
<td style="text-align:center"><code>(int)3.7</code></td>
<td style="text-align:center">type conversion; cast</td>
</tr>
<tr>
<td style="text-align:center">i++; i/=2;</td>
<td style="text-align:center">implicit assignment</td>
</tr>
</tbody>
</table>
<blockquote>
<p>The key property of these primitive operations is that an operation involving values of a given type has a value of that type.</p>
</blockquote>
<p>e.g. <code>5/3</code> is 1, <code>5.0/3.0</code> is 1.66666667, but <code>5/3</code> exact value is 5/3.</p>
<table>
<thead>
<tr>
<th style="text-align:center">type</th>
<th style="text-align:center">size</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">32-bit</td>
</tr>
<tr>
<td style="text-align:center">long</td>
<td style="text-align:center">64-bit</td>
</tr>
<tr>
<td style="text-align:center">short</td>
<td style="text-align:center">16-bit</td>
</tr>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:center">16-bit</td>
</tr>
<tr>
<td style="text-align:center">byte</td>
<td style="text-align:center">8-bit</td>
</tr>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">32-bit</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">64-bit</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Java program is composed by declarations, assignments, conditionals, loops, calls and returns.</p>
</blockquote>
<h3 id="Declare-create-and-initialize-array"><a href="#Declare-create-and-initialize-array" class="headerlink" title="Declare, create and initialize array"></a>Declare, create and initialize array</h3><p><code>int[] a  = new int[N];</code></p>
<p>new a Generic array:</p>
<p><code>Item[] a = (Item[]) new Object[N];</code></p>
<p>default initial value:</p>
<ul>
<li>numeric type: 0</li>
<li>boolean: false</li>
</ul>
<p><strong>Array name refers to the whole array. Copy an array, should copy all entries to a new array.</strong></p>
<p>reverse an array:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int N = a.length;&#10;for(int i=0; i &#60; N/2; i++)&#123;&#10;  double temp = a[i];&#10;  a[i] = a[N-1-i];&#10;  a[N-1-i] = temp;  &#10;&#125;</span><br></pre></td></tr></table></figure>
<p>square matrix multiplication:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int N = a.length;&#10;double[][] c = new double[N][N];&#10;for (int i = 0; i &#60; N; i++)&#123;&#10;  for (int j = 0; j &#60; N; j++)&#123;&#10;    for (int k = 0; k &#60; N; k++)&#123;&#10;      c[i][j] += a[i][k] * b[k][j];&#10;    &#125;&#10;  &#125;  &#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Resize an array:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">private void resize(int max)&#123;&#10;  Item[] temp = (Item[]) new Object[max];&#10;  int N = a.length;&#10;  for (int i = 0; i &#60; N; i++) &#123;&#10;    temp[i] = a[i];&#10;  &#125;&#10;  a = temp;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>When push, check <code>if N == a.length</code>, resize(2 * a.length), push;</p>
<p>When pop, pop, check <code>if N == a.length / 4 &amp;&amp; N &gt; 0</code>, resize(a.length / 2);</p>
<p>BUT popped items are <strong>loitering</strong> in the array. Set <code>a[N] = null;</code> after getting value of a[–N] for G.</p>
<h3 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h3><p>while loop:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static int binarySearch(int key, int[] a)&#123;&#10;  int low = 0;&#10;  int high = a.length - 1;&#10;  int mid = low + (high - low)/2;&#10;  while(low &#60;= high)&#123;&#10;    if(key &#60; a[mid])&#123;&#10;      high = mid -1;&#10;    &#125;&#10;    else if(key &#62; a[mid])&#123;&#10;      low = mid + 1;&#10;    &#125;&#10;    else&#123;&#10;      return mid;&#10;    &#125;&#10;  &#125;&#10;  return -1;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>recursive implementation:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static int rank(int key, int[] a, int low, int high)&#123;&#10;  if(low &#62; high) return -1;&#10;  int mid = low + (high - low)/2;&#10;  if(key &#60; a[mid]) return rank(key, a, low, mid - 1);&#10;  else if(key &#62; a[mid]) return rank(key, a, mid + 1, high);&#10;  else return mid;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Usage:</p>
<p><strong>Whitelisting</strong></p>
<h3 id="Static-method"><a href="#Static-method" class="headerlink" title="Static method"></a>Static method</h3><p>square root:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static double sqrt(double c)&#123;&#10;  if (c &#60; 0) return Double.NaN;&#10;  double err = 1e-15;&#10;  double t = c;&#10;  while (Math.abs(t - c/t) &#62; err * t) &#123;&#10;    t = (c/t + t)/2.0;&#10;  &#125;&#10;  return t;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><p>String is not a primitive type.</p>
<table>
<thead>
<tr>
<th style="text-align:center">concatenation</th>
<th style="text-align:center">conversion</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">Integer.parseInt(s), Integer.toString(i)</td>
</tr>
</tbody>
</table>
<h3 id="Generics"><a href="#Generics" class="headerlink" title="Generics"></a>Generics</h3><p><code>Stack&lt;Item&gt;</code>, Item can be any data type.</p>
<p>Boolean, Byte, Character, Double, Float, Integer, Long, Short are wrapper types</p>
<p><strong>Auto-boxing</strong> <code>stack.push(17)</code></p>
<p><strong>Auto-unboxing</strong> <code>int i = stack.pop()</code></p>
<h3 id="Bags"><a href="#Bags" class="headerlink" title="Bags"></a>Bags</h3><blockquote>
<p>A bag is a collection where remove items is not supported - its purpose is to provide clients ability to collect items and then to iterate through the collected items.</p>
</blockquote>
<ul>
<li>the order is immaterial to user</li>
<li><code>foreach</code></li>
</ul>
<h3 id="Order-of-growth-hypotheses"><a href="#Order-of-growth-hypotheses" class="headerlink" title="Order-of-growth hypotheses"></a>Order-of-growth hypotheses</h3><table>
<thead>
<tr>
<th style="text-align:center">description</th>
<th style="text-align:center">Order-of-growth</th>
<th style="text-align:center">example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">constant</td>
<td style="text-align:center">1</td>
<td style="text-align:center">statement</td>
</tr>
<tr>
<td style="text-align:center">logarithmic</td>
<td style="text-align:center">logN</td>
<td style="text-align:center">binary search</td>
</tr>
<tr>
<td style="text-align:center">linear</td>
<td style="text-align:center">N</td>
<td style="text-align:center">loop</td>
</tr>
<tr>
<td style="text-align:center">linearithmic</td>
<td style="text-align:center">NlogN</td>
<td style="text-align:center">merge sort</td>
</tr>
<tr>
<td style="text-align:center">quadratic</td>
<td style="text-align:center">N*N</td>
<td style="text-align:center">double loop</td>
</tr>
<tr>
<td style="text-align:center">cubic</td>
<td style="text-align:center">N<em>N</em>N</td>
<td style="text-align:center">triple loop</td>
</tr>
<tr>
<td style="text-align:center">exponential</td>
<td style="text-align:center">2^N</td>
<td style="text-align:center">exhaustive search</td>
</tr>
</tbody>
</table>
<h3 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h3><ol>
<li><p>1/0 will cause runtime exception because value is undefined; 1.0/0.0 has the value infinity.</p>
</li>
<li><p>a/b rounds toward 0; a%b = (a/b) * b + a%b eg: -14/3 = 14/-3 = -4, -14%3 = -2, 14%-3 = 2</p>
</li>
<li><p>Array is iterable even though it doesn’t implement Iterable interface; String isn’t.</p>
</li>
</ol>
<h2 id="Elementary-sorts"><a href="#Elementary-sorts" class="headerlink" title="Elementary sorts"></a>Elementary sorts</h2><h3 id="sorting-cost-model"><a href="#sorting-cost-model" class="headerlink" title="sorting cost model"></a>sorting cost model</h3><ul>
<li><p>running time</p>
<ul>
<li>basic operations (compares, exchanges)</li>
<li><h1 id="of-times-array-accessed-for-read-and-Write"><a href="#of-times-array-accessed-for-read-and-Write" class="headerlink" title="of times array accessed for read and Write"></a>of times array accessed for read and Write</h1></li>
</ul>
</li>
<li><p>extra Memory</p>
<ul>
<li>in place (including small function call stack, variables)</li>
<li>hold another copy of the array</li>
</ul>
</li>
</ul>
<p>Data should be comparable:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Date implement Comparable&#60;Date&#62; &#123;&#10;  public int compareTo(Date that)&#123;&#10;    if (this.year &#60; that.year) return -1;&#10;    else if (this.year &#62; that.year) return +1;&#10;    else return 0;&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>Or has a inner comparator class: // more than one compare standards</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Date &#123;&#10;  public static final Comparator&#60;Date&#62; BY_YEAR = new ByYear(); // one comparator for the class&#10;&#10;  private static class ByYear implement Comparator&#60;Date&#62;&#123;&#10;    public int compare(Date a, Date b) &#123;&#10;      return a.year - b.year;&#10;    &#125;&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Selection-sort"><a href="#Selection-sort" class="headerlink" title="Selection sort"></a>Selection sort</h3><p>Repeatedly select the smallest remaining item and exchange it with the first one of them.</p>
<table>
<thead>
<tr>
<th style="text-align:center">compares</th>
<th style="text-align:center">exchanges</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.5 * N^2</td>
<td style="text-align:center">N</td>
</tr>
</tbody>
</table>
<ul>
<li>running time insensitive to input</li>
<li>data movement is minimal</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static void selectionSort(Comparable[] a) &#123;&#10;  int N = a.length;&#10;  for (int i = 0; i &#60; N; i++) &#123;&#10;    int min = i;&#10;    for (int j = i + 1; j &#60; N; j++) &#123;&#10;      if (less(a[j], a[min])) min = j;&#10;    &#125;&#10;    exchange(a, i, min);&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Insertion-sort"><a href="#Insertion-sort" class="headerlink" title="Insertion sort"></a>Insertion sort</h3><p>Insert current into proper place among those already sorted items.</p>
<p>Before that, we should making place by moving larger items one position to right.</p>
<table>
<thead>
<tr>
<th style="text-align:center">compares</th>
<th style="text-align:center">exchanges</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.25 * N^2</td>
<td style="text-align:center">0.25 * N^2</td>
</tr>
<tr>
<td style="text-align:center">0.5 * N^2</td>
<td style="text-align:center">0.5 * N^2</td>
</tr>
<tr>
<td style="text-align:center">N - 1</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<ul>
<li>works well for nonrandom array, especially for partially sorted array</li>
<li>fine for tiny array (N &lt; 15)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public void insertionSort(Comparable[] a)&#123;&#10;  int N = a.length;&#10;  for (int i = 1; i &#60; N; i++) &#123;&#10;    for (int j = i; j &#62; 0; j--) &#123;&#10;      if (less(a[j] &#60; a[j - 1])) exchange(a, j, j - 1);&#10;    &#125;&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Shell-sort"><a href="#Shell-sort" class="headerlink" title="Shell sort"></a>Shell sort</h3><p>h-sort array several times</p>
<h3 id="Merge-sort"><a href="#Merge-sort" class="headerlink" title="Merge sort"></a>Merge sort</h3><p>merging: combining 2 ordered array to make one larger ordered array.</p>
<table>
<thead>
<tr>
<th style="text-align:center">time</th>
<th style="text-align:center">space</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">NlgN</td>
<td style="text-align:center">N for auxiliary array</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static void merge(Comparable[] a, int lo, int mid, int hi) &#123;&#10;  int i = lo;&#10;  int j = mid + 1;&#10;  // int N = a.length;&#10;  // Comparable[] aux = new Comparable[N];&#10;  for (int k = lo; k &#60; hi; k++) &#123;&#10;    aux[k] = a[k]; // copy a&#10;  &#125;&#10;&#10;  for (int k = lo; k &#60; hi; k++) &#123;&#10;    if (i &#62; mid) a[k] = aux[j++]; // left half exhausted&#10;    else if (j &#62; hi) a[k] = aux[i++];&#10;    else if (less(aux[j], aux[i])) a[k] = aux[j++];&#10;    else a[k] = aux[i++];&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>merge-sort: to sort an array, divide it into two halves, sort the two halves recursively, and then merge the results.</p>
<ul>
<li><p>top-down: divide &amp; conquer</p>
<p>|compares|accesses|<br>|:–:|:—:|<br>|NlgN|6NlogN|<br>|N|–|</p>
<p>equal value array(with test to avoid merge) cost only linear time.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Merge &#123;&#10;  public static Comparable[] aux;&#10;&#10;  public static void sort(Comparable[] a) &#123;&#10;    int N = a.length;&#10;    aux = new Comparable[N];&#10;    sort(a, 0, N - 1);&#10;  &#125;&#10;&#10;  public static void sort(Comparable[] a, lo, hi) &#123;&#10;    if(lo &#62;= high) return;&#10;    int mid = lo + (hi - lo)/2;&#10;    sort(a, lo, mid);&#10;    sort(a, mid+1, hi);&#10;    merge(a, lo, mid, hi);&#10;  &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>improvement for partially ordered array:</p>
<ul>
<li>add insertion sort when size of subarray is less than 5</li>
<li>add condition when a[mid] &lt;= a[mid + 1], return without merge</li>
<li>switch the role of aux and a in each recursive call to save time</li>
</ul>
</li>
<li><p>bottom-up: without recursion</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class MergeBU &#123;&#10;  private static Comparable[] aux;&#10;&#10;  public static void sort(Comparable[] a) &#123;&#10;    int N = a.length;&#10;    aux = new Comparable[N];&#10;    for (int sz = 1; sz &#60; N; sz = sz + sz) &#123;&#10;      for (int lo = 0; lo &#60; N - sz; lo += sz + sz) &#123;&#10;        merge(a, lo, lo + sz - 1, Math.min(lo+sz+sz, N-1));&#10;      &#125;&#10;    &#125;&#10;  &#125;&#10;&#125;&#10;```  &#10;&#10;### Shuffle&#10;&#10;uniformly random permutation in linear time&#10;&#10;**Knuth shuffle**&#10;&#10;increment i, generate random [0, i], swap</span><br></pre></td></tr></table></figure>
<p>public static void Shuffle(Object[] a){<br>  int N = a.length;<br>  for (int i = 0; i &lt; N; i++) {<br>    int r = (int) Math.random(i+1); // [0, i]<br>    exchange(a, i, r);<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;### Quick sort&#10;&#10;complementary to merge sort&#10;&#10;- rearrange subarray and the whole array is ordered&#10;- do recursive calls after working on the whole array&#10;- position of partition depends on the contents of the array&#10;&#10;characteristics:&#10;&#10;- partition in place&#10;- shuffle: partitions are unbalanced makes MS extremely inefficient. situation like: first partition item is the smallest item, second one is the neat smallest item, leading to an excessive number of partitions of large subarrays.&#10;- quicker than others because of less data movement.&#10;&#10;|compares|accesses|&#10;|:--:|:---:|&#10;|1.39 * NlgN|--|&#10;|0.5 * N^2|--|</span><br></pre></td></tr></table></figure></p>
<p>public class Quick {<br>  public static void sort(Comparable[] a) {<br>    shuffle(a);<br>    sort(a, 0, a.length - 1);<br>  }</p>
<p>  public static void sort(Comparable[] a, int lo, int hi) {<br>    if (hi &lt;= lo) return;<br>    int j = partition(a, lo, hi);<br>    sort(a, lo, j - 1);<br>    sort(a, j + 1, hi);<br>  }</p>
<p>  public static int partition(Comparable[] a, int lo, int hi) {<br>    int i = lo;<br>    int j = hi + 1;<br>    Comparable v = a[lo];<br>    while(true) {<br>      while(less(a[++i], v)) {<br>        if (i == hi) break; // 交换之后还要能继续往后走，所以最远会走到hi,针对分隔值是数列最大值情况<br>      }<br>      while(less(v, a[–j])) {<br>        // redundant here, since v is a[lo], v won’t less than itself, when j == lo, while stop<br>        if (j == lo) break; // 交换之后还要能继续往前走，所以最远会走到lo,针对分隔值是数列最小值情况<br>      }<br>      exchange(a, i, j);<br>    }<br>    exchange(a, lo, j);<br>    return j;<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;Improvement:&#10;&#10;- add insertion sort for tiny subarray&#10;- median of 3 partition&#10;- 3-way partitioning: cost liner time for array has a constant number of distinct key values&#10;&#10;  [  &#60;v  ] [  =v  ] [unsorted] [  &#62;v  ]</span><br></pre></td></tr></table></figure></p>
<p>  public static void sort(Comparable[] a, int lo, int hi) {<br>    if (hi &lt;= lo) return;<br>    int lt = lo, i = lo + 1, gt = hi;<br>    Comparable v = a[lo];<br>    while(i&lt;=gt){ // i is iteration for unsorted part<br>      int cmp = a[i].compareTo(v);<br>      if(cmp &lt; 0) exchange(a, lt++, i++); // lt is the beginning of =v<br>      else if(cmp &gt; 0) exchange(a, gt–, i); //gt is the end of =v<br>      else i++;<br>    }<br>    sort(a, lo, lt - 1);<br>    sort(a, gt + 1, hi);<br>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;### quick-selection for Kth largest problem&#10;&#10;|time|space|&#10;|:--:|:---:|&#10;|avr N|--|&#10;|0.5 * N^2|--|&#10;&#10;[quick-sort space complexity is O(lgN)](https://www.wikiwand.com/en/Quicksort#/Space_complexity)&#10;&#10;&#62; After partitioning, the partition with the fewest elements is (recursively) sorted first, requiring at most O(log n) space. Then the other partition is sorted using tail recursion or iteration, which doesn&#39;t add to the call stack. This idea, as discussed above, was described by R. Sedgewick, and keeps the stack depth bounded by O(log n).&#10;&#10;[tail recursion](http://www.ruanyifeng.com/blog/2015/04/tail-call.html)</span><br></pre></td></tr></table></figure></p>
<p>public class QS {<br>  public static int select(Comparable[] a, int k) {<br>    shuffle(a);<br>    int lo = 0, hi = a.length - 1;<br>    while(lo &lt;= hi){<br>      int j = partition(a, lo, hi); // find jth<br>      if(j &gt; k) hi = j - 1; // kth is in left half<br>      else if(j &lt; k) lo = j + 1; // kth is in right half<br>      else return a[k];<br>    }<br>    return a[k]; // a is sorted<br>  }</p>
<p>  public static int partition(Comparable[] a, int lo, int hi) {<br>    int i = lo;<br>    int j = hi + 1;<br>    Comparable v = a[lo];<br>    while(true) {<br>      while(less(a[++i], v)) {<br>        if (i == hi) break; // 交换之后还要能继续往后走，所以最远会走到hi,针对分隔值是数列最大值情况<br>      }<br>      while(less(v, a[–j])) {<br>        // redundant here, since v is a[lo], v won’t less than itself, when j == lo, while stop<br>        if (j == lo) break; // 交换之后还要能继续往前走，所以最远会走到lo,针对分隔值是数列最小值情况<br>      }<br>      if (i &gt;= j) break;<br>      exchange(a, i, j);<br>    }<br>    exchange(a, lo, j);<br>    return j;<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;### System sort&#10;&#10;`java.util.Arrays` quick sort for primitive types, merge sort for objects, considering space is not that important when using object.&#10;&#10;### Priority queue&#10;&#10;need 2 operations: remove the max/min, insert&#10;&#10;context: a stream of N numbers, find the top 5 largest, with space limit&#10;&#10;unordered array implementation:</span><br></pre></td></tr></table></figure></p>
<p>public class UnorderedMaxPQ<key extends="" comparable<key="">&gt; {<br>  private Key[] pq;<br>  private int N;</key></p>
<p>  public UnorderedMaxPQ(int capacity) {<br>    pq = (Key[]) new Comparable[capacity];<br>  }</p>
<p>  public void isEmpty() {<br>    return N == 0;<br>  }</p>
<p>  public void insert(Key x) {<br>    pq[N++] = x;<br>  }</p>
<p>  public Key delMax() {<br>    int max = 0;<br>    for(int i = 0; i &lt; N; i++){<br>      if(less(max, i)) max = i;<br>    }<br>    exchange(max, N - 1);<br>    return pq[–N];<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;ordered array: insert to right place like insertion sort, the max one always at the end of the array.&#10;&#10;|data structure|insert|remove|&#10;|:------------:|:----:|:----:|&#10;|unordered(lazy)|1|N|&#10;|ordered(eager)|N|1|&#10;|heap|logN|logN|&#10;&#10;&#10;Recap: For stack and queue, best case takes constant time.&#10;&#10;### Binary Heap&#10;&#10;- Largest key is a[1], which is root of binary tree.&#10;&#10;- Can use array indices to move through tree.&#10;&#10;  - Parent at k is at k/2;&#10;  - Child at k is at 2k and 2k+1;&#10;&#10;- Peter promotion: if child is larger than parent, exchange child and its parent until to root.</span><br></pre></td></tr></table></figure></p>
<p>  private void swim(int k){<br>    while(k &gt; 1 &amp;&amp; pq[k] &gt; pq[k/2]){<br>      exchange(k, k/2);<br>      k = k/2;<br>    }<br>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;- Insertion</span><br></pre></td></tr></table></figure></p>
<p>  private void insert(Key k){<br>    pq[++N] = k;<br>    swim(N);<br>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;- Power struggle: if parent is smaller than one or both of its child, exchange parent with its largest child until to leaf.</span><br></pre></td></tr></table></figure></p>
<p>  private void sink(int k){<br>    while(2 <em> k &lt;= N){<br>      int j = 2 </em> k;<br>      if(j &lt; N &amp;&amp; less(j, j+1)) j++;<br>      if(!less(k, j)) break;<br>      exchange(k, j);<br>      k = j;<br>    }<br>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- delMax: exchange root with node at last, then sink it.</span><br></pre></td></tr></table></figure></p>
<p>  public Key delMax(){<br>    Key max = pq[1];<br>    exchange(N–, 1);<br>    sink(1);<br>    pq[N+1] = null;<br>    return max;<br>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;### Heap sort&#10;&#10;**Inplace + NlogN worst-case**&#10;&#10;BUT!!!&#10;&#10;- Inner loops longer than quick sort&#10;- Make poor use of cache memory. References to node are not continuous.&#10;- Not stable</span><br></pre></td></tr></table></figure></p>
<p>public static void sort(Comparable[] a){<br>  int N = a.length;<br>  // construct the heap<br>  for (int k = N/2; k &gt;= 1; k–)<br>    sink(a, k, N);<br>  // repeatedly remove the largest value<br>  while(N &gt; 1) {<br>    exchange(a, 1, N–);<br>    sink(a, 1, N);<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;### Symbol Tables&#10;&#10; - sequential search in an unordered linked list&#10;&#10; random search hit = N/2</span><br></pre></td></tr></table></figure></p>
<p>  public class SequentialSearchST<key, value="">{<br>    private Node first;</key,></p>
<pre><code>private class Node {
  Key key;
  Value val;
  Node next;

  public Node(Key key, Value val, Node next) {
    this.key = key;
    this.val = val;
    this.next = next;
  }
}

public Value get(Key key) {
  Node x = first;
  while (x != null) {
    if (key.equals(x.key)) return x.val;
    x = x.next;
  }
  return null;
}

public void put(Key key, Value val) {
  Node x = first;
  while (x != null) {
    if (key.equals(x.key)) {
      x.val = val;
      return;
    }
    x = x.next;
  }
  first = new Node(key, val, first);
}
</code></pre><p>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;- binary search in an ordered array&#10;&#10;  core function is `rank(Key key)`: number of keys less than key&#10;&#10;  Note: rank loop always terminates with the value of `lo` precisely equals to the number of keys in the table that are smaller than key.&#10;&#10;  |search cost| insert |&#10;  |:---------:|:------:|&#10;  |lgN|avr N|</span><br></pre></td></tr></table></figure></p>
<p>  public class BinarySearchST<key key,="" value="" val=""> {<br>    private Key[] keys;<br>    private Value[] vals;<br>    private int N;</key></p>
<pre><code>public BinarySearchST(int capacity){
  keys = (Key[]) new Comparable[capacity];
  vals = (Value[]) new Comparable[capacity];
}

public int size() {
  return N;
}

public Value get(Key key) {
  if(isEmpty()) return null;
  int i = rank(key);
  if(i &lt; N &amp;&amp; keys[i].compareTo(key) == 0) return vals[i];
  else return null;
}

public int rank(Key key) {
  int lo = 0;
  int hi = N - 1;
  while(hi &gt; lo) {
    int mid = lo + (hi - lo)/2;
    int cmp = key.compareTo(keys[mid]);
    if (cmp &lt; 0) hi = mid - 1;
    else if (cmp &gt; 0) lo = mid + 1;
    else return mid;
  }
  return lo;
}

public void put(Key key, Value val) {
  int i = rank(key);
  if (i &lt; N &amp;&amp; keys[i].compareTo(key) == 0) {
    vals[i] = val;
    return;
  }
  // key not exist, insert into right place
  for (int j = N; j &gt; i; j--) {
    keys[j] = keys[j - 1];
    vals[j] = vals[j - 1];
  }
  keys[i] = key;
  vals[i] = val;
  N++;
}
</code></pre><p>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;- Binary search tree&#10;&#10;binary tree + restriction that key in any node is lager than the keys in all nodes in the node&#39;s left subtree and smaller than the keys in all nodes in that node&#39;s right subtree.&#10;&#10;best: balanced, lgN&#10;&#10;worst: lined, N</span><br></pre></td></tr></table></figure></p>
<p>public class BST<key extends="" comparable<key="">, Value&gt; {<br>  private Node root;<br>  private class Node {<br>    Key key;<br>    Value val;<br>    Node left;<br>    Node right;<br>    private int N;</key></p>
<pre><code>public Node(Key key, Value val, int N) {
  this.key = key;
  this.val = val;
  this.N = N;
}
</code></pre><p>  }</p>
<p>  public int size() {<br>    return size(root);<br>  }</p>
<p>  public int size(Node x) {<br>    if (x == null) return null;<br>    else return x.N;<br>  }</p>
<p>  public Value get(Key key) {<br>    return get(root, key)<br>  }</p>
<p>  public Value get(Node x, Key key) {<br>    if (x == null) return null;<br>    int cmp = key.compareTo(x.key);<br>    if(cmp &lt; 0) return get(x.left, key);<br>    else if (cmp &gt; 0) return get(x.right, key);<br>    else return x.val;<br>  }</p>
<p>  public void put(Key key, Value val) {<br>    root = put(root, key, val); // tricky, if root is null<br>  }</p>
<p>  public Node put(Node x, Key key, Value val) {<br>    if (x == null) return new Node(key, val, 1);<br>    int cmp = key.compareTo(x.key);<br>    if(cmp &lt; 0) x.left = put(x.left, key, val);<br>    else if (cmp &gt; 0) x.right = put(x.right, key, val);<br>    else x.val = val;<br>    x.N = 1 + size(x.left) + size(x.right); // reset N on the way up the tree<br>    return x;<br>  }</p>
<p>  public Key min() {<br>    return min(root).key;<br>  }</p>
<p>  public Node min(Node x) {<br>    if(x.left == null) return x;<br>    return min(x.left);<br>  }</p>
<p>  public Key floor(Key key) {<br>    Node x = floor(root, key);<br>    if(x == null) return null;<br>    return x.key;<br>  }</p>
<p>  public Node floor(Node x, Key key) {<br>    if (x == null) return null;<br>    int cmp = key.compareTo(x.key);<br>    if (cmp == 0) return x;<br>    if (cmp &lt; 0) return (x.left, key);<br>    Node t = floor(x.right, key); // right branch is a little complex: if any of nodes in right is larger than key<br>    if(t != null) return t;<br>    else return x;<br>  }</p>
<p>  public Key select(int k) {<br>    return select(root, k).key;<br>  }</p>
<p>  public Node select(Node x, int k) {<br>    if (x == null) return null; // when root == null<br>    int t = size(x.left);<br>    if (t &gt; k) return select(x.left, k);<br>    else if (t &lt; k) return select(x.right, k - t - 1);<br>    else return x;<br>  }</p>
<p>  public int rank(Key key) {<br>    return rank(root, key);<br>  }</p>
<p>  public int rank(Node x, Key key) {<br>    if (x == null) return 0; // when root == null<br>    int cmp = key.compareTo(x.key);<br>    if (cmp &lt; 0) return rank(x.left, key);<br>    else if (cmp &gt; 0) return 1 + size(x.left) + rank(x.right, key);<br>    else return size(x.left);<br>  }<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;### 2-3 tree&#10;&#10;### LLRB(left leaning red black) tree&#10;&#10;### Hash Table&#10;&#10;- Hash function&#10;&#10;converting a hashCode() to an array index:</span><br></pre></td></tr></table></figure></p>
<p>private int hash(Key x) {<br>  return (x.hashCode() &amp; 0x7FFFFFFF) % M;<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;Assumption: The hash functions that we use uniformly and independently distribute keys among the integer value btw 0 and M - 1&#10;&#10;- Collision resolution&#10;&#10;  - Separate chaining: to build a linked list of key-value pairs whose keys hash to the index for each of the array indices.&#10;&#10;  The relation between N and M is not that critical.</span><br></pre></td></tr></table></figure></p>
<p>  public class SeparateChainingHashST<key, value=""> {<br>    private int N;<br>    private int M;</key,></p>
<pre><code>private SeparateChainingHashST&lt;Key, Value&gt;[] st;

public SeparateChainingHashST(int M) {
  this.M = M;
  st = (SeparateChainingHashST&lt;Key, Value&gt;[]) new SequentialSearchST[M];
  for (int i = 0; i &lt; M; i ++) {
    st[i] = new SequentialSearchST();
  }
}

private int hash(Key x) {
  return (x.hashCode() &amp; 0x7FFFFFFF) % M;
}

public int get(Key key) {
  return (Value) st[hash(key)].get(key);
}

public void put(Key key, Value val) {
  if(N &gt;= M/2) resize(2M);
  st[hash(key)].put(key, val);
}
</code></pre><p>  }<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- open addressing hashing: linear probing: when there is a collision, then we just check the next entry in the table.</span><br></pre></td></tr></table></figure></p>
<p>  public class LinearProbingHashST<key, value="">{<br>    private int N;<br>    private int M = 16;<br>    private Key[] keys;<br>    private Value[] vals;</key,></p>
<pre><code>public LinearProbingHashST() {
  keys = new Key[M];
  vals = new Value[M];
}

private int hash(Key x) {
  return (x.hashCode() &amp; 0x7FFFFFFF) % M;
}

public void put(Key key, Value val) {
  if (N &gt;= M/2) resize(2M);

  int i;
  for(i = hash(key); keys[i] != null; i = (i + 1) % M) {
    if (keys[i].equals(key)) {
      vals[i] = val;
      return;
    }
  }
  keys[i] = key;
  vals[i] = val;
  N++;
}

public Value get(Key key) {
  for(i = hash(key); keys[i] != null; i = (i + 1) % M) {
    if (keys[i].equals(key)) {
      return vals[i];
    }
  }
  return null;
}

public void resize(int cap) { // to ensure load factor never exceeds 1/2
    LinearProbingHashST&lt;Key, Value&gt; t;
    t = new LinearProbingHashST&lt;Key, Value&gt;(cap);
    for (int i = 0; i &lt; M; i++) {
      if(keys[i] != null) {
        t.put(keys[i], vals[i]);
      }
    }

    keys = t.keys;
    vals = t.vals;
    M = t.M;
}

public void delete(Key key) {
  // set keys[i] vals[i] to null, all sequential keys have to be removed and re-put again until null
  // resize(M/2) if (N &gt; 0 &amp;&amp; N &lt;= M/8)
}
</code></pre><p>  }<br>  ```</p>

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Algorithms/">Algorithms</a> <a class="tag tag--primary tag--small t-link" href="/tags/Notes/">Notes</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/05/BuzzWord/" data-tooltip="BuzzWord">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 Victoria Hong. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/05/BuzzWord/" data-tooltip="BuzzWord">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://victoriahong.com/2016/08/AlgorithmsNotes/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="http://www.gravatar.com/avatar/62d0fa666fec0472476147ad2e6030cb?s=110"/>
        
            <h4 id="about-card-name">Victoria Hong</h4>
        
            <h5 id="about-card-bio"><p>Master student at CMU<br> Foodie &amp; Programmer &amp; Fashionista<br> Looking for full-time position @Bay area</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Software Engineer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Mountain View, CA
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/scrip-rjanlllosg30d03qrddpwrs6wqf4k3v0bbo68hiifuvthyhqfefx2htcagu0.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://victoriahong.com/2016/08/AlgorithmsNotes/';
                 
                    this.page.identifier = '2016/08/AlgorithmsNotes/';
                                  
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'victoria-matrix';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



</html>
